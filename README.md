# cocoaheads-ios
iOS client for Melbourne CocoaHeads events

## OpenAPI 3.0

[Melbourne CocoaHeads][melbourne-cocoaheads] publishes an [OpenAPI (Swagger) 3.0][openapi-spec] specification at [www.melbournecocoaheads.com/api/openapi.json][openapi-json] 
as well as documentation rendered with [ReDoc][redoc] at [www.melbournecocoaheads.com/api][redoc-docs].

This iOS project is designed to demonstrate the Swift 4 code generated by the [OpenAPI Generator][openapi-generator] project based on the published spec. The project contains
an iOS target and a Swift library containing all of the generated code.

### Setup

The only prerequisite is to install [openapi-generator], and optionally [swiftformat][swiftformat].

```bash
brew install openapi-generator swiftformat
```

### Generating the API Client

1. Generate the API client code by invoking `openapi-generator` from the root of this project.
2. Optionally cleanup the generated code with `swiftformat`.
3. Copy the new files in to place over the existing ones.


```bash
openapi-generator generate -g swift4 -o openapi3-client -i https://www.melbournecocoaheads.com/api/openapi.json
swiftformat --trimwhitespace always openapi3-client
cp -r openapi3-client/OpenAPIClient OpenAPIClient
rm -r openapi3-client
```

### Integration with Xcode

Generated code is stored in the `APIClient` directory, the directory `APIClient/OpenAPIClient/Classes/OpenAPIs` is included in the Xcode proect.
It's best to **delete** this folder reference in Xcode and re-add it to make sure any new files are included in the APIClient framework.


[openapi-spec]: https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md
[melbourne-cocoaheads]:  https://www.melbournecocoaheads.com
[openapi-json]: https://www.melbournecocoaheads.com/api/openapi.json
[openapi-generator]: https://github.com/OpenAPITools/openapi-generator
[redoc]: https://github.com/Rebilly/ReDoc
[redoc-docs]: https://www.melbournecocoaheads.com/api/
[swiftformat]: https://github.com/nicklockwood/SwiftFormat
